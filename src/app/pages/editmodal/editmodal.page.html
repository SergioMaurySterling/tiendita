<app-header titulo="Editar" color="{{todo.color}}"></app-header>

<ion-content>

  <form [formGroup]="directionForm">
    <div class="auto">

        <ion-item>
          <ion-label mode="md">Seleccione una imagen</ion-label>
          <input type="file" [(ngModel)]="imageUrl" formControlName="imageUrl" name="imageUrl" (change)="chooseFile($event)">
        </ion-item>

        <ion-item class="ion-text-center">
            <img src="{{todo.imageUrl}}" width="250px">
        </ion-item>
        
        <ion-item>
            <ion-label mode="md" position="floating">Nombre de la mascota</ion-label>
            <ion-input type="text" [(ngModel)]="todo.petName" formControlName="petName" name="petName" required="true"></ion-input>
        </ion-item>

        <ion-item *ngIf="todo.color === 'primary'" >
            <ion-label mode="md" position="floating">Situacion de la mascota</ion-label>
            <ion-select value="{{todo.situation}}" interface="popover" [(ngModel)]="situation" formControlName="situation" name="situation">
              <ion-select-option value="Se busca">Se busca</ion-select-option>
              <ion-select-option value="Busco a su due침o">Busco a su due침o</ion-select-option>
            </ion-select>
        </ion-item>

        <ion-item>
            <ion-label mode="md" position="floating">Edad de la mascota</ion-label>
            <ion-input type="text" [(ngModel)]="todo.age" formControlName="age" name="age" required="true"></ion-input>
        </ion-item>

        <ion-item>
            <ion-label mode="md" position="floating">Ciudad de ubicaci칩n</ion-label>
            <ion-input type="text" [(ngModel)]="todo.city" formControlName="city" name="city" required="true"></ion-input>
        </ion-item>

        <ion-item>
            <ion-label mode="md" position="floating">Descripci칩n</ion-label>
            <ion-textarea [(ngModel)]="todo.description" formControlName="description" name="description" required="true"></ion-textarea>
        </ion-item>
        
        <br>

        <ion-button mode="ios" expand="block" [disabled]="!directionForm.valid" (click)="saveTodo()">
            <b>Actualizar</b>
        </ion-button>

    </div>
</form>

</ion-content>
